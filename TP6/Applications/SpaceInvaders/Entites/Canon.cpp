/*
 * Canon.cpp
 *
 *  Created on: 22 oct. 2008
 *      Author: Aurélien
 */

#include "Canon.h"
#include "EntiteFactory.h"

Canon::Canon(TimerSpaceInvaders *t, int v, int ligne, int colonne, char *a, int h, int l, Couleur c) :
			EntiteBase(v, ligne, colonne, a, h, l, c){
	timer = t;
}


void Canon::run(){
	dessiner();

	int direction = 1;
	while(true){
		timer->getMissileCanon()->P();
		if(getPositionColonne() == 0 ||
				getPositionColonne() == (80-getLargeur()))
			direction = -direction;

		if(direction == 1)
			deplacer(DROITE);
		if(direction == -1)
			deplacer(GAUCHE);
	}

}
